# Docker éƒ¨ç½²æŒ‡å—

[English](DOCKER_DEPLOYMENT.en.md) | ä¸­æ–‡

æœ¬æ–‡æ¡£æä¾›äº†åŸºäº Docker çš„ AI æ™ºèƒ½çœ¼é•œå¼€å‘ç¯å¢ƒéƒ¨ç½²æŒ‡å—ã€‚

## ğŸ¯ ç¯å¢ƒè¯´æ˜

Docker å¼€å‘ç¯å¢ƒæä¾›äº†å®Œæ•´çš„å·¥å…·é“¾ï¼Œæ”¯æŒï¼š
- ğŸ”§ **å›ºä»¶å¼€å‘**: ç¼–è¯‘å’Œå®šåˆ¶ç³»ç»Ÿå›ºä»¶ï¼ˆéœ€è¦ç³»ç»Ÿå¼€å‘SDKï¼‰
- ğŸ’» **åº”ç”¨å¼€å‘**: å¼€å‘ç”¨æˆ·çº§åº”ç”¨ç¨‹åºï¼ˆä½¿ç”¨äº¤å‰ç¼–è¯‘å·¥å…·é“¾ï¼‰
- ğŸ› ï¸ **äº¤å‰ç¼–è¯‘**: ä¸º RV1106B èŠ¯ç‰‡ç¼–è¯‘ç¨‹åº
- ğŸ§ª **æµ‹è¯•è°ƒè¯•**: å®Œæ•´çš„å¼€å‘å’Œè°ƒè¯•å·¥å…·

> **æœ¯è¯­è¯´æ˜**:
> - **ç³»ç»ŸSDK**ï¼ˆæˆ–ç³»ç»Ÿå¼€å‘SDKï¼‰ï¼šç”¨äºå›ºä»¶ç¼–è¯‘å’Œç³»ç»Ÿå®šåˆ¶ï¼Œå³ `rv1106b_rv1103b_linux_ipc_v1.0.0_20241016`
> - **è½¯ä»¶å¼€å‘SDK**ï¼šç”¨äºåº”ç”¨ç¨‹åºå¼€å‘çš„APIåº“å’Œå·¥å…·ï¼ˆå•ç‹¬æä¾›ç»™å¼€å‘è€…ï¼‰

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

- **æ¨èç³»ç»Ÿ**: Ubuntu 22.04 LTSï¼ˆWindowsç¯å¢ƒå¯ä»¥ä½¿ç”¨WSL2+Ubuntu 22.04ï¼‰
- **Docker ç‰ˆæœ¬**: 20.10 æˆ–æ›´é«˜
- **ç¡¬ç›˜ç©ºé—´**: è‡³å°‘ 10GB å¯ç”¨ç©ºé—´
- **å†…å­˜**: å»ºè®® 8GB æˆ–ä»¥ä¸Š

## ğŸ³ æ–¹å¼ä¸€ï¼šä» Docker Hub æ‹‰å–é•œåƒï¼ˆæ¨èï¼‰

### 1. æ‹‰å–é•œåƒ

å¦‚æœä½ å¯ä»¥æ­£å¸¸è®¿é—® Docker Hubï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç›´æ¥æ‹‰å–é•œåƒï¼š

```bash
docker pull aiglasses/rk-rv1106b:ready
```

### 2. è¿è¡Œå®¹å™¨

æ‹‰å–å®Œæˆåï¼Œè¿è¡Œå®¹å™¨ï¼š

```bash
docker run -it --name rk1106_dev aiglasses/rk-rv1106b:ready bash -l
```

**æ³¨æ„**: å¿…é¡»ä½¿ç”¨ `bash -l` å‚æ•°ï¼Œå¦åˆ™è¿è¡Œç¯å¢ƒä¼šæœ‰é—®é¢˜ã€‚

## ğŸ’¾ æ–¹å¼äºŒï¼šä»ç½‘ç›˜ä¸‹è½½é•œåƒæ–‡ä»¶

å¦‚æœæ— æ³•è®¿é—® Docker Hubï¼Œå¯ä»¥ä»ç½‘ç›˜ä¸‹è½½ Docker é•œåƒ tar æ–‡ä»¶ã€‚

### 1. ä¸‹è½½é•œåƒ

ä»ä»¥ä¸‹é“¾æ¥ä¸‹è½½ Docker é•œåƒæ–‡ä»¶ï¼ˆæä¾›å®Œæ•´é•œåƒå’Œbareé•œåƒä¸¤ä¸ªç‰ˆæœ¬ï¼‰ï¼š

ğŸ”— **å¤¸å…‹ç½‘ç›˜ä¸‹è½½åœ°å€**: https://pan.quark.cn/s/516588c0596a

æ–‡ä»¶åˆ—è¡¨ï¼š
- `aiglasses_rv1106b_dev_docker.tar` - å®Œæ•´é•œåƒ
- `aiglasses_rv1106b_bare_docker.tar` - Bareé•œåƒï¼ˆå¯é€‰ï¼‰

### 2. åŠ è½½é•œåƒ

ä¸‹è½½å®Œæˆåï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åŠ è½½é•œåƒï¼š

**åŠ è½½å®Œæ•´é•œåƒ**:
```bash
docker load -i aiglasses_rv1106b_dev_docker.tar
```

**åŠ è½½Bareé•œåƒ**ï¼ˆå¯é€‰ï¼‰:
```bash
docker load -i aiglasses_rv1106b_bare_docker.tar
```

**æ³¨æ„**: è¯·å°†æ–‡ä»¶åæ›¿æ¢ä¸ºä½ å®é™…ä¸‹è½½çš„æ–‡ä»¶åã€‚

### 3. è¿è¡Œå®¹å™¨

åŠ è½½å®Œæˆåï¼Œè¿è¡Œå®¹å™¨ï¼š

**ä½¿ç”¨å®Œæ•´é•œåƒ**:
```bash
docker run -it --name rk1106_dev aiglasses/rk-rv1106b:ready bash -l
```

**ä½¿ç”¨Bareé•œåƒ**ï¼ˆéœ€æŒ‚è½½ç³»ç»ŸSDKï¼‰:
```bash
docker run -it \
  -v /path/to/system_sdk/rv1106b_rv1103b_linux_ipc_v1.0.0_20241016:/opt/aiglass_dev_env \
  --name rk1106_dev_bare \
  aiglasses/rk-rv1106b-bare:ready bash -l
```

## ğŸ¨ é•œåƒç±»å‹é€‰æ‹©

é¡¹ç›®æä¾›äº†ä¸¤ç§ Docker é•œåƒï¼Œæ ¹æ®ä½ çš„å¼€å‘ä¹ æƒ¯é€‰æ‹©åˆé€‚çš„ç‰ˆæœ¬ï¼š

### å®Œæ•´é•œåƒï¼ˆæ¨èæ–°æ‰‹ï¼‰

**é•œåƒåç§°**: `aiglasses/rk-rv1106b:ready`

**ç‰¹ç‚¹**:
- âœ… åŒ…å«å®Œæ•´çš„ç³»ç»Ÿå¼€å‘SDKï¼ˆç”¨äºå›ºä»¶ç¼–è¯‘ï¼‰
- âœ… å¼€ç®±å³ç”¨ï¼Œæ— éœ€é¢å¤–é…ç½®
- âœ… é€‚åˆå¿«é€Ÿä¸Šæ‰‹å’Œç®€å•å¼€å‘

**ä½¿ç”¨åœºæ™¯**:
- å¿«é€Ÿä½“éªŒå’Œå­¦ä¹ 
- ä¸éœ€è¦é¢‘ç¹ä¿®æ”¹å›ºä»¶ä»£ç 
- å®¹å™¨å†…å¼€å‘å³å¯æ»¡è¶³éœ€æ±‚

**è¿è¡Œæ–¹å¼**:
```bash
docker run -it --name rk1106_dev aiglasses/rk-rv1106b:ready bash -l
```

**è¿›å…¥å·²è¿è¡Œçš„å®¹å™¨**:

```bash
# åŒæ ·å¿…é¡»å¸¦ -l å‚æ•°
docker exec -it rk1106_dev bash -l
```

### Bare é•œåƒï¼ˆæ¨èä½¿ç”¨IDEçš„å¼€å‘è€…ï¼‰

**é•œåƒåç§°**: `aiglasses/rk-rv1106b-bare:ready`

**ç‰¹ç‚¹**:
- ğŸ¯ ä¸åŒ…å«ç³»ç»Ÿå¼€å‘SDKï¼Œé•œåƒä½“ç§¯æ›´å°
- ğŸ”— éœ€è¦æŒ‚è½½å®¿ä¸»æœºçš„ç³»ç»ŸSDKç›®å½•
- ğŸ’» ç³»ç»ŸSDKä»£ç åœ¨å®¿ä¸»æœºï¼Œå¯ä½¿ç”¨ä»»ä½•å–œæ¬¢çš„ IDE/ç¼–è¾‘å™¨
- ğŸ”„ å®¿ä¸»æœºä¿®æ”¹å›ºä»¶ä»£ç åï¼Œå®¹å™¨å†…ç«‹å³ç”Ÿæ•ˆï¼Œæ— éœ€æ‹·è´
- ğŸš€ å®¹å™¨åªè´Ÿè´£æä¾›ç¼–è¯‘ç¯å¢ƒï¼Œå›ºä»¶å¼€å‘åœ¨å®¿ä¸»æœºå®Œæˆ

**é€‚åˆè¿™äº›å¼€å‘è€…**:
- âœ… **ä½¿ç”¨ç°ä»£ IDE è¿›è¡Œå¼€å‘**ï¼šVS Codeã€Claude Codeã€Cursorã€IntelliJ IDEA ç­‰
- âœ… **éœ€è¦ AI è¾…åŠ©ç¼–ç¨‹**ï¼šClaude Codeã€GitHub Copilotã€Cursor ç­‰ AI ç¼–ç¨‹å·¥å…·
- âœ… **ä¹ æƒ¯å›¾å½¢ç•Œé¢ç¼–è¾‘å™¨**ï¼šä¸ä¹ æƒ¯åœ¨å®¹å™¨å†…ä½¿ç”¨ vim/nano
- âœ… **éœ€è¦ä»£ç æ™ºèƒ½æç¤º**ï¼šè‡ªåŠ¨è¡¥å…¨ã€è¯­æ³•æ£€æŸ¥ã€é‡æ„ç­‰ IDE åŠŸèƒ½
- âœ… **å›¢é˜Ÿåä½œå¼€å‘**ï¼šä½¿ç”¨ Git åœ¨å®¿ä¸»æœºç®¡ç†ä»£ç ç‰ˆæœ¬
- âœ… **å¤šé¡¹ç›®å¼€å‘**ï¼šåœ¨ä¸åŒç»ˆç«¯/IDEçª—å£åŒæ—¶ç¼–è¾‘å¤šä¸ªé¡¹ç›®

**å…¸å‹å·¥ä½œæµç¨‹**:
1. åœ¨å®¿ä¸»æœºç”¨ VS Code/Claude Code æ‰“å¼€ç³»ç»ŸSDKç›®å½•
2. åœ¨ IDE ä¸­ç¼–è¾‘å›ºä»¶ä»£ç ï¼ˆäº«å—ä»£ç æç¤ºã€AI è¾…åŠ©ç­‰åŠŸèƒ½ï¼‰
3. åœ¨ç»ˆç«¯è¿›å…¥ Docker å®¹å™¨æ‰§è¡Œå›ºä»¶ç¼–è¯‘
4. æŸ¥çœ‹ç¼–è¯‘ç»“æœï¼Œç»§ç»­åœ¨ IDE ä¸­ä¿®æ”¹
5. ä½¿ç”¨å®¿ä¸»æœºçš„ Git å·¥å…·ç®¡ç†ç‰ˆæœ¬

**å‡†å¤‡å·¥ä½œ**:

é¦–å…ˆåœ¨å®¿ä¸»æœºä¸Šå‡†å¤‡ç³»ç»Ÿå¼€å‘SDKï¼š

```bash
# åœ¨å®¿ä¸»æœºä¸Šåˆ›å»ºç³»ç»ŸSDKç›®å½•
mkdir -p ~/aiglasses_system_sdk

# ä¸‹è½½æˆ–è§£å‹ç³»ç»ŸSDKåˆ°è¯¥ç›®å½•
# ç³»ç»ŸSDKç›®å½•ååº”ä¸ºï¼šrv1106b_rv1103b_linux_ipc_v1.0.0_20241016
```

**è¿è¡Œæ–¹å¼**:

```bash
# è¿è¡Œå®¹å™¨å¹¶æŒ‚è½½ç³»ç»ŸSDKç›®å½•
docker run -it \
  -v ~/aiglasses_system_sdk/rv1106b_rv1103b_linux_ipc_v1.0.0_20241016:/opt/aiglass_dev_env \
  --name rk1106_dev_bare \
  aiglasses/rk-rv1106b-bare:ready \
  /bin/bash -l
```

**é‡è¦è¯´æ˜**:
- ğŸ”´ `-v` å‚æ•°å°†å®¿ä¸»æœºçš„ç³»ç»ŸSDKç›®å½•æŒ‚è½½åˆ°å®¹å™¨çš„ `/opt/aiglass_dev_env`
- ğŸ”´ æŒ‚è½½è·¯å¾„å¿…é¡»æ˜¯å®Œæ•´çš„ç³»ç»ŸSDKç›®å½•ï¼ˆåŒ…å« `rv1106b_rv1103b_linux_ipc_v1.0.0_20241016`ï¼‰
- ğŸ”´ å®¹å™¨å¯åŠ¨åï¼Œåœ¨å®¿ä¸»æœºä¿®æ”¹å›ºä»¶ä»£ç ï¼Œå®¹å™¨å†…ç«‹å³ç”Ÿæ•ˆ
- ğŸ”´ å¿…é¡»ä½¿ç”¨ `/bin/bash -l` æˆ– `bash -l`ï¼Œ`-l` å‚æ•°ä¸èƒ½çœç•¥

**ç¼–è¯‘å›ºä»¶**:

```bash
# åœ¨å®¹å™¨å†…
cd /opt/aiglass_dev_env
./build.sh
```

**è¿›å…¥å·²è¿è¡Œçš„ Bare å®¹å™¨**:

```bash
# åŒæ ·å¿…é¡»å¸¦ -l å‚æ•°
docker exec -it rk1106_dev_bare bash -l
```

### é•œåƒå¯¹æ¯”

| ç‰¹æ€§ | å®Œæ•´é•œåƒ (ready) | Bare é•œåƒ (bare:ready) |
|------|-----------------|----------------------|
| åŒ…å«ç³»ç»ŸSDK | âœ… æ˜¯ | âŒ å¦ï¼ˆéœ€æŒ‚è½½ï¼‰ |
| é•œåƒå¤§å° | è¾ƒå¤§ï¼ˆ~5GBï¼‰ | è¾ƒå°ï¼ˆ~2GBï¼‰ |
| å¯åŠ¨é€Ÿåº¦ | å¿« | å¿« |
| IDE æ”¯æŒ | å®¹å™¨å†…ç¼–è¾‘ | å®¿ä¸»æœº IDE |
| å›ºä»¶ä»£ç åŒæ­¥ | éœ€ docker cp | å®æ—¶åŒæ­¥ |
| é€‚åˆæ–°æ‰‹ | âœ… æ˜¯ | âŒ å¦ |
| é€‚åˆ IDE ç”¨æˆ· | âŒ å¦ | âœ… æ˜¯ |
| é€‚åˆå›¢é˜Ÿåä½œ | ä¸€èˆ¬ | âœ… æ˜¯ |

### é€‰æ‹©å»ºè®®

**é€‰æ‹©å®Œæ•´é•œåƒï¼Œå¦‚æœä½ **:
- ğŸŒŸ åˆšå¼€å§‹å­¦ä¹ æ™ºèƒ½çœ¼é•œå¼€å‘
- ğŸŒŸ ä¹ æƒ¯åœ¨ç»ˆç«¯ä½¿ç”¨ vim/nano ç¼–è¾‘ä»£ç 
- ğŸŒŸ åªéœ€è¦ç®€å•æµ‹è¯•æˆ–å­¦ä¹ ï¼Œä¸éœ€è¦å¤§é‡ç¼–å†™ä»£ç 
- ğŸŒŸ æƒ³è¦å¿«é€Ÿä½“éªŒï¼Œä¸æƒ³é…ç½®æŒ‚è½½è·¯å¾„
- ğŸŒŸ ä¸»è¦è¿›è¡Œåº”ç”¨å¼€å‘ï¼Œå¾ˆå°‘ä¿®æ”¹å›ºä»¶

**é€‰æ‹© Bare é•œåƒï¼Œå¦‚æœä½ **:
- ğŸ”¥ åœ¨å®¿ä¸»æœºä½¿ç”¨ **VS Code**ã€**Claude Code**ã€**Cursor** ç­‰ IDE è¿›è¡Œå¼€å‘
- ğŸ”¥ éœ€è¦ä½¿ç”¨ **AI ç¼–ç¨‹åŠ©æ‰‹**ï¼ˆGitHub Copilotã€Claude Codeã€Cursor ç­‰ï¼‰
- ğŸ”¥ éœ€è¦ IDE çš„**ä»£ç æ™ºèƒ½æç¤ºã€è‡ªåŠ¨è¡¥å…¨ã€è¯­æ³•æ£€æŸ¥**ç­‰åŠŸèƒ½
- ğŸ”¥ å¸Œæœ›åœ¨å›¾å½¢åŒ–ç¼–è¾‘å™¨ä¸­æµè§ˆå’Œç¼–è¾‘ä»£ç ï¼Œè€Œä¸æ˜¯ vim/nano
- ğŸ”¥ éœ€è¦é¢‘ç¹ä¿®æ”¹å›ºä»¶ä»£ç ï¼Œå®æ—¶çœ‹åˆ°ä¿®æ”¹æ•ˆæœ
- ğŸ”¥ ä½¿ç”¨ Git å›¾å½¢åŒ–å·¥å…·ï¼ˆVS Code Gitã€GitKraken ç­‰ï¼‰ç®¡ç†ç‰ˆæœ¬
- ğŸ”¥ å›¢é˜Ÿåä½œå¼€å‘ï¼Œéœ€è¦åœ¨å®¿ä¸»æœºä¸Šè¿›è¡Œä»£ç å®¡æŸ¥å’Œåˆå¹¶

## ğŸ”§ å¼€å‘ç¯å¢ƒä½¿ç”¨

> **é‡è¦æç¤º**: ä¸è®ºä½¿ç”¨å“ªç§é•œåƒï¼Œè¿›å…¥å®¹å™¨æ—¶éƒ½å¿…é¡»ä½¿ç”¨ `-l` å‚æ•°ï¼ˆlogin shellï¼‰ï¼Œå¦åˆ™ç¯å¢ƒå˜é‡æ— æ³•æ­£ç¡®åŠ è½½ï¼Œå°†å¯¼è‡´ç¼–è¯‘å¤±è´¥ã€‚

### è¿›å…¥å®¹å™¨

**å¦‚æœå®¹å™¨æ­£åœ¨è¿è¡Œ**ï¼š

```bash
docker exec -it rk1106_dev bash -l
```

**å¦‚æœå®¹å™¨å·²åœæ­¢**ï¼ˆä¾‹å¦‚é‡å¯ç”µè„‘åï¼‰ï¼š

```bash
docker start rk1106_dev
docker exec -it rk1106_dev bash -l
```

**é‡è¦æç¤º**:
- å¿…é¡»å¸¦ `-l` å‚æ•°ï¼ˆlogin shellï¼‰ï¼Œå¦åˆ™ç¯å¢ƒå˜é‡å’Œå·¥å…·é“¾é…ç½®å°†æ— æ³•æ­£ç¡®åŠ è½½
- ä¸å¸¦ `-l` å‚æ•°ä¼šå¯¼è‡´ç¼–è¯‘ç¯å¢ƒå¼‚å¸¸

### å¼€å‘åº”ç”¨ç¨‹åº

Docker ç¯å¢ƒåŒ…å«å®Œæ•´çš„å¼€å‘å·¥å…·é“¾ï¼Œå¯ç”¨äºå¼€å‘ç”¨æˆ·çº§åº”ç”¨ç¨‹åºã€‚

#### äº¤å‰ç¼–è¯‘å·¥å…·é“¾

ç¯å¢ƒä¸­å·²é…ç½®é’ˆå¯¹ RV1106B èŠ¯ç‰‡çš„äº¤å‰ç¼–è¯‘å·¥å…·é“¾ï¼š

**å·¥å…·é“¾ä½ç½®**: `/opt/new/rv1106b_rv1103b_linux_ipc_v1.0.0_20241016/tools/linux/toolchain/arm-rockchip831-linux-uclibcgnueabihf`

#### ç¼–è¯‘åº”ç”¨ç¨‹åº

```bash
# è¿›å…¥å®¹å™¨
docker exec -it rk1106_dev bash -l

# è¿›å…¥å·¥ä½œç›®å½•
cd /workspace  # æˆ–ä½ çš„é¡¹ç›®ç›®å½•

# ä½¿ç”¨äº¤å‰ç¼–è¯‘å·¥å…·é“¾ç¼–è¯‘ C ç¨‹åº
arm-rockchip831-linux-uclibcgnueabihf-gcc -o myapp myapp.c

# ä½¿ç”¨äº¤å‰ç¼–è¯‘å·¥å…·é“¾ç¼–è¯‘ C++ ç¨‹åº
arm-rockchip831-linux-uclibcgnueabihf-g++ -o myapp myapp.cpp

# ç¼–è¯‘ç¤ºä¾‹ï¼šå¸¦ä¼˜åŒ–é€‰é¡¹
arm-rockchip831-linux-uclibcgnueabihf-gcc -O2 -o myapp myapp.c

# ç¼–è¯‘ç¤ºä¾‹ï¼šé“¾æ¥åº“
arm-rockchip831-linux-uclibcgnueabihf-gcc -o myapp myapp.c -lpthread -lm
```

**æç¤º**: å»ºè®®ä½¿ç”¨æ•°æ®å·æŒ‚è½½å°†å®¿ä¸»æœºä»£ç ç›®å½•æ˜ å°„åˆ°å®¹å™¨ä¸­ï¼Œæ–¹ä¾¿å¼€å‘ã€‚

### ç¼–è¯‘å›ºä»¶ï¼ˆå¯é€‰ï¼‰

> **æ³¨æ„**: è®¾å¤‡å·²é¢„è£…å›ºä»¶ã€‚åªæœ‰åœ¨éœ€è¦ä¿®æ”¹ç³»ç»Ÿæˆ–å‡çº§æ—¶æ‰éœ€è¦ç¼–è¯‘å›ºä»¶ã€‚

è¿›å…¥å®¹å™¨åï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ç¼–è¯‘å›ºä»¶ï¼š

```bash
./build.sh
```

ç¼–è¯‘è¿‡ç¨‹å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿåˆ°å‡ ååˆ†é’Ÿä¸ç­‰ï¼Œå…·ä½“å–å†³äºä½ çš„ç¡¬ä»¶é…ç½®ã€‚

### è·å–ç¼–è¯‘äº§ç‰©

#### å›ºä»¶æ–‡ä»¶

ç¼–è¯‘å®Œæˆåï¼Œå›ºä»¶æ–‡ä»¶ä½äºï¼š

```
/opt/aiglass_dev_env/output/image
```

ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å°†å›ºä»¶å¤åˆ¶åˆ°å®¿ä¸»æœºï¼š

```bash
# åœ¨å®¿ä¸»æœºä¸Šæ‰§è¡Œ
docker cp rk1106_dev:/opt/aiglass_dev_env/output/image ./firmware_output
```

#### åº”ç”¨ç¨‹åº

**æ­¥éª¤1**: å°†ç¼–è¯‘å¥½çš„åº”ç”¨ç¨‹åºå¤åˆ¶åˆ°å®¿ä¸»æœºï¼š

```bash
# åœ¨å®¿ä¸»æœºä¸Šæ‰§è¡Œ
docker cp rk1106_dev:/workspace/myapp ./myapp
```

**æ­¥éª¤2**: ä½¿ç”¨ ADB å°†ç¨‹åºæ¨é€åˆ°è®¾å¤‡ï¼š

```bash
# å°†ç¨‹åºæ¨é€åˆ°è®¾å¤‡çš„æŒ‡å®šç›®å½•
adb push myapp /userdata/

# æˆ–æ¨é€åˆ°å…¶ä»–ç›®å½•ï¼Œå¦‚ä¸´æ—¶ç›®å½•
adb push myapp /tmp/

# æˆ–æ¨é€åˆ°ç”¨æˆ·ç›®å½•ï¼ˆæ¨åˆ°æ­¤ç›®å½•ä¸‹çš„ç¨‹åºå¯ä»¥åœ¨ä»»æ„ç›®å½•ä¸‹ç›´æ¥æ‰§è¡Œï¼Œä¸éœ€è¦cdåˆ°ç¨‹åºæ‰€åœ¨ç›®å½•ï¼‰
adb push myapp /usr/bin/
```

**æ­¥éª¤3**: åœ¨è®¾å¤‡ä¸Šè¿è¡Œç¨‹åºï¼š

```bash
# è¿›å…¥è®¾å¤‡å‘½ä»¤è¡Œ
adb shell

# åˆ‡æ¢åˆ°ç¨‹åºæ‰€åœ¨ç›®å½•
cd /userdata/

# æ·»åŠ æ‰§è¡Œæƒé™
chmod +x myapp

# è¿è¡Œç¨‹åº
./myapp
```

**å®Œæ•´ç¤ºä¾‹**ï¼š

```bash
# 1. ä»å®¹å™¨å¤åˆ¶åˆ°å®¿ä¸»æœº
docker cp rk1106_dev:/workspace/myapp ./myapp

# 2. æ¨é€åˆ°è®¾å¤‡
adb push myapp /userdata/myapp

# 3. åœ¨è®¾å¤‡ä¸Šè¿è¡Œ
adb shell "cd /userdata && chmod +x myapp && ./myapp"
```

## ğŸ› ï¸ å¸¸è§é—®é¢˜

### 1. å®¹å™¨å¯åŠ¨åç¯å¢ƒå¼‚å¸¸

**é—®é¢˜**: è¿›å…¥å®¹å™¨åæ‰¾ä¸åˆ°ç¼–è¯‘å·¥å…·æˆ–ç¯å¢ƒå˜é‡ä¸æ­£ç¡®

**è§£å†³æ–¹æ¡ˆ**: ç¡®ä¿ä½¿ç”¨ `bash -l` å‚æ•°è¿›å…¥å®¹å™¨ï¼š

```bash
docker exec -it rk1106_dev bash -l
```

### 2. é•œåƒåŠ è½½å¤±è´¥

**é—®é¢˜**: `docker load` å‘½ä»¤æŠ¥é”™

**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥ tar æ–‡ä»¶æ˜¯å¦ä¸‹è½½å®Œæ•´ï¼ˆå¯ä»¥å¯¹æ¯”æ–‡ä»¶å¤§å°ï¼‰
- ç¡®ä¿æœ‰è¶³å¤Ÿçš„ç£ç›˜ç©ºé—´
- å°è¯•ä½¿ç”¨ `sudo` æƒé™æ‰§è¡Œå‘½ä»¤

### 3. å®¹å™¨åç§°å†²çª

**é—®é¢˜**: è¿è¡Œå®¹å™¨æ—¶æç¤ºåç§°å·²å­˜åœ¨

**è§£å†³æ–¹æ¡ˆ**:
```bash
# åˆ é™¤å·²å­˜åœ¨çš„å®¹å™¨
docker rm rk1106_dev

# æˆ–è€…ä½¿ç”¨ä¸åŒçš„åç§°
docker run -it --name rk1106_dev_new aiglasses/rk-rv1106b:ready bash -l
```

### 4. æƒé™é—®é¢˜

**é—®é¢˜**: åœ¨å®¹å™¨ä¸­æ²¡æœ‰æƒé™æ‰§è¡ŒæŸäº›æ“ä½œ

**è§£å†³æ–¹æ¡ˆ**:
```bash
# ä»¥ root æƒé™è¿è¡Œå®¹å™¨
docker run -it --name rk1106_dev --user root aiglasses/rk-rv1106b:ready bash -l
```

### 5. Bareé•œåƒæŒ‚è½½ç³»ç»ŸSDKåç¼–è¯‘å¤±è´¥

**é—®é¢˜**: ä½¿ç”¨bareé•œåƒæŒ‚è½½ç³»ç»ŸSDKåï¼Œæ— æ³•æ‰¾åˆ°SDKç›®å½•æˆ–ç¼–è¯‘å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:

**æ£€æŸ¥æŒ‚è½½è·¯å¾„**:
```bash
# ç¡®ä¿ç³»ç»ŸSDKç›®å½•ç»“æ„æ­£ç¡®
# å®¿ä¸»æœºè·¯å¾„åº”è¯¥æ˜¯ï¼š/path/to/system_sdk/rv1106b_rv1103b_linux_ipc_v1.0.0_20241016
# å®¹å™¨å†…æŒ‚è½½åˆ°ï¼š/opt/aiglass_dev_env

# è¿›å…¥å®¹å™¨æ£€æŸ¥
docker exec -it rk1106_dev_bare bash -l
ls -la /opt/aiglass_dev_env
# åº”è¯¥èƒ½çœ‹åˆ° build.sh ç­‰æ–‡ä»¶
```

**ç¡®ä¿ä½¿ç”¨ -l å‚æ•°**:
```bash
# é”™è¯¯ï¼šç¼ºå°‘ -l å‚æ•°
docker exec -it rk1106_dev_bare bash  # âŒ é”™è¯¯

# æ­£ç¡®ï¼šå¸¦ -l å‚æ•°
docker exec -it rk1106_dev_bare bash -l  # âœ… æ­£ç¡®
```

**é‡æ–°åˆ›å»ºå®¹å™¨**:
```bash
# å¦‚æœæŒ‚è½½è·¯å¾„é”™è¯¯ï¼Œåˆ é™¤å®¹å™¨é‡æ–°åˆ›å»º
docker stop rk1106_dev_bare
docker rm rk1106_dev_bare

# é‡æ–°è¿è¡Œï¼Œç¡®ä¿è·¯å¾„æ­£ç¡®
docker run -it \
  -v $(pwd)/rv1106b_rv1103b_linux_ipc_v1.0.0_20241016:/opt/aiglass_dev_env \
  --name rk1106_dev_bare \
  aiglasses/rk-rv1106b-bare:ready bash -l
```

### 6. Windows/WSL2 è·¯å¾„é—®é¢˜

**é—®é¢˜**: åœ¨ Windows ä½¿ç”¨ WSL2 æ—¶ï¼Œè·¯å¾„æ ¼å¼ä¸æ­£ç¡®

**è§£å†³æ–¹æ¡ˆ**:
```bash
# Windowsè·¯å¾„è½¬æ¢
# Windows: D:\dev\sdk\rv1106b_rv1103b_linux_ipc_v1.0.0_20241016
# WSL2: /mnt/d/dev/sdk/rv1106b_rv1103b_linux_ipc_v1.0.0_20241016

# åœ¨WSL2ä¸­è¿è¡Œ
docker run -it \
  -v /mnt/d/dev/sdk/rv1106b_rv1103b_linux_ipc_v1.0.0_20241016:/opt/aiglass_dev_env \
  --name rk1106_dev_bare \
  aiglasses/rk-rv1106b-bare:ready bash -l
```

## ğŸ“š æ›´å¤šèµ„æº

### Docker Hub é•œåƒåœ°å€
- **å®Œæ•´é•œåƒ**: https://hub.docker.com/r/aiglasses/rk-rv1106b (tag: `ready`)
- **Bareé•œåƒ**: https://hub.docker.com/r/aiglasses/rk-rv1106b-bare (tag: `ready`)

### ç½‘ç›˜ä¸‹è½½åœ°å€
- **å¤¸å…‹ç½‘ç›˜**: https://pan.quark.cn/s/516588c0596a
  - `aiglasses_rv1106b_dev_docker.tar` - å®Œæ•´é•œåƒ
  - `aiglasses_rv1106b_bare_docker.tar` - Bareé•œåƒ

### å…¶ä»–èµ„æº
- **é¡¹ç›®ä¸»é¡µ**: https://github.com/Iam5stillLearning/OpenSource-Ai-Glasses
- **ç³»ç»Ÿå¼€å‘SDK**: rv1106b_rv1103b_linux_ipc_v1.0.0_20241016ï¼ˆç”¨äºå›ºä»¶å¼€å‘ï¼ŒBareé•œåƒéœ€è¦ï¼‰
- **è½¯ä»¶å¼€å‘SDK**: å•ç‹¬æä¾›ç»™åº”ç”¨å¼€å‘è€…ï¼ˆç”¨äºåº”ç”¨ç¨‹åºå¼€å‘ï¼‰

## ğŸ’¡ æœ€ä½³å®è·µ

### æ•°æ®æŒä¹…åŒ–

ä¸ºäº†é¿å…å®¹å™¨åˆ é™¤åæ•°æ®ä¸¢å¤±ï¼Œå»ºè®®ä½¿ç”¨ volume æˆ– bind mountï¼š

#### ä½¿ç”¨å®Œæ•´é•œåƒæ—¶

**æŒ‚è½½å›ºä»¶è¾“å‡ºç›®å½•**:

```bash
# ä½¿ç”¨ bind mount å°†å®¿ä¸»æœºç›®å½•æŒ‚è½½åˆ°å®¹å™¨
docker run -it --name rk1106_dev \
  -v /path/on/host:/opt/aiglass_dev_env/output \
  aiglasses/rk-rv1106b:ready bash -l
```

**æŒ‚è½½åº”ç”¨å¼€å‘å·¥ä½œç›®å½•**ï¼ˆæ¨èï¼‰:

```bash
# æŒ‚è½½åº”ç”¨å¼€å‘ç›®å½•ï¼Œæ–¹ä¾¿åœ¨å®¿ä¸»æœºç¼–è¾‘ä»£ç ï¼Œåœ¨å®¹å™¨ä¸­ç¼–è¯‘
docker run -it --name rk1106_dev \
  -v /path/to/your/project:/workspace \
  aiglasses/rk-rv1106b:ready bash -l
```

**åŒæ—¶æŒ‚è½½å¤šä¸ªç›®å½•**:

```bash
# æŒ‚è½½å¤šä¸ªç›®å½•ä»¥åŒæ—¶æ”¯æŒå›ºä»¶å’Œåº”ç”¨å¼€å‘
docker run -it --name rk1106_dev \
  -v /path/to/your/project:/workspace \
  -v /path/to/firmware/output:/opt/aiglass_dev_env/output \
  aiglasses/rk-rv1106b:ready bash -l
```

#### ä½¿ç”¨Bareé•œåƒæ—¶ï¼ˆæ¨èé«˜çº§ç”¨æˆ·ï¼‰

**å®Œæ•´å¼€å‘ç¯å¢ƒé…ç½®**:

```bash
# æ¨èé…ç½®ï¼šåŒæ—¶æŒ‚è½½ç³»ç»ŸSDKå’Œåº”ç”¨é¡¹ç›®ç›®å½•
docker run -it --name rk1106_dev_bare \
  -v ~/aiglasses_system_sdk/rv1106b_rv1103b_linux_ipc_v1.0.0_20241016:/opt/aiglass_dev_env \
  -v ~/my_app_project:/workspace \
  aiglasses/rk-rv1106b-bare:ready bash -l
```

**ä½¿ç”¨ç»å¯¹è·¯å¾„**ï¼ˆé¿å…è·¯å¾„é—®é¢˜ï¼‰:

```bash
# ä½¿ç”¨ $(pwd) è·å–å½“å‰ç»å¯¹è·¯å¾„
docker run -it --name rk1106_dev_bare \
  -v $(pwd)/system_sdk/rv1106b_rv1103b_linux_ipc_v1.0.0_20241016:/opt/aiglass_dev_env \
  -v $(pwd)/app_project:/workspace \
  aiglasses/rk-rv1106b-bare:ready bash -l
```

**å¼€å‘å·¥ä½œæµå»ºè®®**ï¼ˆBareé•œåƒï¼Œç”¨äºå›ºä»¶å¼€å‘ï¼‰:

1. **å¯åŠ¨å®¹å™¨**ï¼šåœ¨åå°è¿è¡Œ Docker å®¹å™¨ï¼ŒæŒ‚è½½ç³»ç»ŸSDKç›®å½•
2. **æ‰“å¼€ IDE**ï¼šåœ¨å®¿ä¸»æœºç”¨ VS Code/Claude Code/Cursor æ‰“å¼€ç³»ç»ŸSDKç›®å½•
3. **ç¼–è¾‘ä»£ç **ï¼šåœ¨ IDE ä¸­ç¼–å†™å’Œä¿®æ”¹å›ºä»¶ä»£ç ï¼ˆäº«å— AI è¾…åŠ©ã€ä»£ç è¡¥å…¨ç­‰åŠŸèƒ½ï¼‰
4. **ç¼–è¯‘æµ‹è¯•**ï¼šé€šè¿‡ `docker exec` è¿›å…¥å®¹å™¨æ‰§è¡Œå›ºä»¶ç¼–è¯‘
5. **æŸ¥çœ‹ç»“æœ**ï¼šæ ¹æ®ç¼–è¯‘è¾“å‡ºåœ¨ IDE ä¸­ç»§ç»­ä¿®æ”¹
6. **ç‰ˆæœ¬æ§åˆ¶**ï¼šä½¿ç”¨ IDE é›†æˆçš„ Git å·¥å…·æˆ–å®¿ä¸»æœºçš„ Git å›¾å½¢ç•Œé¢

**æ¨è IDE é…ç½®**:
- **VS Code** + Docker æ’ä»¶ + C/C++ æ’ä»¶
- **Claude Code** - AI è¾…åŠ©ç¼–ç¨‹ï¼Œä»£ç ç†è§£å’Œç”Ÿæˆ
- **Cursor** + AI åŠŸèƒ½ - æ™ºèƒ½ä»£ç è¡¥å…¨å’Œé‡æ„

### åå°è¿è¡Œ

å¦‚æœéœ€è¦å®¹å™¨åœ¨åå°æŒç»­è¿è¡Œï¼š

**å®Œæ•´é•œåƒ**:
```bash
# å¯åŠ¨å®¹å™¨å¹¶åœ¨åå°è¿è¡Œ
docker run -d --name rk1106_dev aiglasses/rk-rv1106b:ready tail -f /dev/null

# éœ€è¦æ—¶è¿›å…¥å®¹å™¨ï¼ˆå¿…é¡»å¸¦ -lï¼‰
docker exec -it rk1106_dev bash -l
```

**Bareé•œåƒ**:
```bash
# å¯åŠ¨å®¹å™¨å¹¶åœ¨åå°è¿è¡Œï¼ˆè®°å¾—æŒ‚è½½ç³»ç»ŸSDKï¼‰
docker run -d \
  -v ~/aiglasses_system_sdk/rv1106b_rv1103b_linux_ipc_v1.0.0_20241016:/opt/aiglass_dev_env \
  --name rk1106_dev_bare \
  aiglasses/rk-rv1106b-bare:ready tail -f /dev/null

# éœ€è¦æ—¶è¿›å…¥å®¹å™¨ï¼ˆå¿…é¡»å¸¦ -lï¼‰
docker exec -it rk1106_dev_bare bash -l
```

> **æç¤º**: ä½¿ç”¨åå°è¿è¡Œæ–¹å¼ï¼Œå®¹å™¨ä¼šæŒç»­ä¿æŒè¿è¡ŒçŠ¶æ€ï¼Œä½ å¯ä»¥éšæ—¶é€šè¿‡ `docker exec` è¿›å…¥ï¼Œéå¸¸é€‚åˆé…åˆå®¿ä¸»æœºIDEä½¿ç”¨ã€‚

## ğŸš€ ä¸‹ä¸€æ­¥

Docker ç¯å¢ƒæ­å»ºå®Œæˆåï¼Œä½ å¯ä»¥ï¼š

### 1. å¼€å§‹åº”ç”¨å¼€å‘

ä½¿ç”¨ Docker ç¯å¢ƒå¼€å‘ç”¨æˆ·çº§åº”ç”¨ç¨‹åºï¼š

```bash
# è¿›å…¥å¼€å‘ç¯å¢ƒ
docker exec -it rk1106_dev bash -l

# åˆ›å»ºé¡¹ç›®ç›®å½•
mkdir -p /workspace/myproject
cd /workspace/myproject

# ç¼–å†™ä»£ç ï¼ˆä½¿ç”¨ vim/nano æˆ–æŒ‚è½½å®¿ä¸»æœºç›®å½•ï¼‰
cat > hello.c << 'EOF'
#include <stdio.h>
int main() {
    printf("Hello from AI Glasses!\n");
    return 0;
}
EOF

# ä½¿ç”¨äº¤å‰ç¼–è¯‘å·¥å…·é“¾ç¼–è¯‘
arm-rockchip831-linux-uclibcgnueabihf-gcc -o hello hello.c

# é€€å‡ºå®¹å™¨
exit
```

**éƒ¨ç½²åˆ°è®¾å¤‡å¹¶è¿è¡Œ**ï¼š

```bash
# ä»å®¹å™¨å¤åˆ¶åˆ°å®¿ä¸»æœº
docker cp rk1106_dev:/workspace/myproject/hello ./hello

# æ¨é€åˆ°è®¾å¤‡
adb push hello /userdata/

# åœ¨è®¾å¤‡ä¸Šè¿è¡Œ
adb shell "cd /userdata && chmod +x hello && ./hello"
```

å‚è€ƒ [åº”ç”¨å¼€å‘æŒ‡å—](APPLICATION_DEVELOPMENT.md) äº†è§£æ›´å¤šè¯¦æƒ…ã€‚

### 2. å›ºä»¶å®šåˆ¶ï¼ˆå¯é€‰ï¼‰

å¦‚æœéœ€è¦ä¿®æ”¹ç³»ç»Ÿå›ºä»¶ï¼š

```bash
# è¿›å…¥å¼€å‘ç¯å¢ƒ
docker exec -it rk1106_dev bash -l

# ç¼–è¯‘å›ºä»¶
./build.sh

# çƒ§å½•å›ºä»¶åˆ°è®¾å¤‡
# å‚è€ƒ [å›ºä»¶çƒ§å½•æŒ‡å—](FIRMWARE_FLASHING.md)
```

### 3. å­¦ä¹ å¼€å‘å·¥å…·

ç†Ÿæ‚‰ Docker ç¯å¢ƒä¸­çš„å¼€å‘å·¥å…·ï¼š
- **ç¼–è¯‘å™¨**: gcc, g++, make, cmake
- **è°ƒè¯•å·¥å…·**: gdb
- **ç‰ˆæœ¬æ§åˆ¶**: git
- **å…¶ä»–å·¥å…·**: vim, nano ç­‰ç¼–è¾‘å™¨

### 4. ç›¸å…³æ–‡æ¡£

- [åº”ç”¨å¼€å‘æŒ‡å—](APPLICATION_DEVELOPMENT.md) - åº”ç”¨ç¨‹åºå¼€å‘å…¥é—¨
- [å›ºä»¶çƒ§å½•æŒ‡å—](FIRMWARE_FLASHING.md) - å¦‚ä½•å°†å›ºä»¶çƒ§å½•åˆ°è®¾å¤‡

## ğŸ”„ é•œåƒæ›´æ–°

å½“æœ‰æ–°ç‰ˆæœ¬çš„ Docker é•œåƒå‘å¸ƒæ—¶ï¼š

### æ›´æ–°å®Œæ•´é•œåƒ

```bash
# åœæ­¢å¹¶åˆ é™¤æ—§å®¹å™¨
docker stop rk1106_dev
docker rm rk1106_dev

# åˆ é™¤æ—§é•œåƒ
docker rmi aiglasses/rk-rv1106b:ready

# æ‹‰å–æ–°é•œåƒ
docker pull aiglasses/rk-rv1106b:ready

# è¿è¡Œæ–°å®¹å™¨
docker run -it --name rk1106_dev aiglasses/rk-rv1106b:ready bash -l
```

### æ›´æ–°Bareé•œåƒ

```bash
# åœæ­¢å¹¶åˆ é™¤æ—§å®¹å™¨
docker stop rk1106_dev_bare
docker rm rk1106_dev_bare

# åˆ é™¤æ—§é•œåƒ
docker rmi aiglasses/rk-rv1106b-bare:ready

# æ‹‰å–æ–°é•œåƒ
docker pull aiglasses/rk-rv1106b-bare:ready

# è¿è¡Œæ–°å®¹å™¨ï¼ˆè®°å¾—æŒ‚è½½ç³»ç»ŸSDKç›®å½•ï¼‰
docker run -it \
  -v /path/to/system_sdk/rv1106b_rv1103b_linux_ipc_v1.0.0_20241016:/opt/aiglass_dev_env \
  --name rk1106_dev_bare \
  aiglasses/rk-rv1106b-bare:ready bash -l
```

---

**æœ€åæ›´æ–°**: 2025-11-11 | **ç‰ˆæœ¬**: v1.0.0
